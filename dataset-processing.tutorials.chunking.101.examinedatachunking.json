{"version":3,"kind":"Notebook","sha256":"eeb83009b262e868071d18690da9572ea25fd1f4b165b19c229201c65c417e19","slug":"dataset-processing.tutorials.chunking.101.examinedatachunking","location":"/dataset_processing/tutorials/chunking/101/ExamineDataChunking.ipynb","dependencies":[],"frontmatter":{"title":"How to Examine a Stored Dataset’s Chunk Shape","content_includes_title":false,"github":"https://github.com/hytest-org/hytest","copyright":"2023","numbering":{"title":{"offset":2}},"source_url":"https://github.com/hytest-org/hytest/blob/main/dataset_processing/tutorials/chunking/101/ExamineDataChunking.ipynb","edit_url":"https://github.com/hytest-org/hytest/edit/main/dataset_processing/tutorials/chunking/101/ExamineDataChunking.ipynb","exports":[{"format":"ipynb","filename":"ExamineDataChunking.ipynb","url":"/hytest//build/ExamineDataChunking-f607537b5979ec075b7595a66fe4585e.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The objective of this notebook is to learn how to examine a stored dataset and understand if it is chunked and, if so, what its “","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rQzu2WlWsS"},{"type":"crossReference","url":"/dataset-processing/tutorials/chunking/back/glossary","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"chunk shape","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YkreDemve7"}],"key":"RcHTQTiH9h"}],"urlSource":"../back/Glossary.md#term-Chunk-shape","dataUrl":"/dataset-processing.tutorials.chunking.back.glossary.json","identifier":"term-chunk-shape","label":"term-Chunk-shape","remote":true,"protocol":"file","key":"vtGN3EqrF5"},{"type":"text","value":"” is.\nTo do this, we will utilize an existing dataset from the HyTEST OSN, take a guided tour of the data, and show how to figure out its chunk shape.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"P6ocweSBlT"}],"key":"O1X3UtOVnD"}],"visibility":"show","key":"IjjPn1Kop3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import xarray as xr\nimport fsspec","key":"iAoNP0MTMs"},{"type":"outputs","id":"fnl-cG1SSNm-VeVtZp4-l","children":[],"key":"akmdjU92EK"}],"key":"iBzu5bQLjV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Accessing the Dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Yqstk8PE12"}],"identifier":"accessing-the-dataset","label":"Accessing the Dataset","html_id":"accessing-the-dataset","implicit":true,"key":"VKJBpXjYQ6"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Before we can open the dataset, we must first get a mapper that will easily allow for ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WBRrEojUL4"},{"type":"link","url":"https://docs.xarray.dev/en/stable/index.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"xarray","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YwNOObKRBT"}],"urlSource":"https://docs.xarray.dev/en/stable/index.html","key":"JZgXhPjjyv"},{"type":"text","value":" to open the dataset.\nTo do this, we will use ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"c1kZRBdQfo"},{"type":"link","url":"https://filesystem-spec.readthedocs.io/en/latest/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"fsspec","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"krWmcUcJl3"}],"urlSource":"https://filesystem-spec.readthedocs.io/en/latest/","key":"tzfHWTBLK7"},{"type":"text","value":" to perform an anonymous read from an endpoint outside of S3, that uses the S3 API (i.e., the HyTEST OSN).\nThis requires us to set up an S3 file system and feed it the endpoint URL.\nWe can then point the file system to our dataset (in this case the PRISM V2 Zarr store) and get a mapper to the file.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ruJokxP8ez"}],"key":"BuXot7wnxD"}],"key":"ZwX56zmhkU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fs = fsspec.filesystem(\n    's3',\n    anon=True,   # anonymous = does not require credentials\n    client_kwargs={'endpoint_url': 'https://usgs.osn.mghpcc.org/'}\n)\nfile = fs.get_mapper('s3://mdmf/gdp/PRISM_v2.zarr/')","key":"CPUEOcTDyx"},{"type":"outputs","id":"qeImXDXtAXc8Nxtzx1Qu0","children":[],"key":"ir0DvqM7ez"}],"key":"KLu0xel3fS"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now that we have our file mapper, we can open the dataset using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"C2fUd2OCwQ"},{"type":"link","url":"https://docs.xarray.dev/en/stable/generated/xarray.open_dataset.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"xarray.open_dataset()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oTtI00ZHem"}],"urlSource":"https://docs.xarray.dev/en/stable/generated/xarray.open_dataset.html","key":"DIfZE3Cang"},{"type":"text","value":" with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WejCoxgkE3"},{"type":"inlineCode","value":"zarr","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"b3eyZHnKMc"},{"type":"text","value":" specified as our engine.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"owgpiu7u0C"}],"key":"YurOx6cQyk"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"WuqnyKuTFI"}],"key":"vf4omeW30S"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The xarray loader is “lazy”, meaning it will read just enough of the data to make decisions about its shape, structure, etc.\nIt will pretend like the whole dataset is in memory (and we can treat it that way), but it will only load data as required.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"OyMKp7PzRM"}],"key":"kAbGqzNzCU"}],"key":"klVSliY0Ne"}],"key":"RjJexBEJqC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds = xr.open_dataset(file, engine='zarr')\nds","key":"RJo9I87eib"},{"type":"outputs","id":"Z2xhLphcQm7rIkOZtNMYW","children":[],"key":"q1XPmunWR2"}],"key":"rIiGFXXd85"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The HTML output for the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZzRWzELftz"},{"type":"link","url":"https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"xarray.Dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EoflZJPGd5"}],"urlSource":"https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html","key":"ejMgUguD2c"},{"type":"text","value":" includes a lot of information, some of which is hidden behind toggles.\nClick on the icons to the right to expand and see all the metadata available for the dataset.\nThe page icon will display attributes attached to the data, while the database icon will display information about the dataset.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rJdALwMQxR"}],"key":"se71fAeq6L"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Notable observations:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Yx40rpwBBz"}],"key":"vnToJAUaZ4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Dimensions","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"yj1Fd5N8yb"}],"key":"GHAg8gyIjq"},{"type":"text","value":": This dataset is 3D, with data being indexed by ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"fYGncDnDVO"},{"type":"inlineCode","value":"lat","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"CnXKWMcFT3"},{"type":"text","value":", ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"sozB62NeM7"},{"type":"inlineCode","value":"lon","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"NsafcdSnwG"},{"type":"text","value":", and ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"rWNF2qHRZd"},{"type":"inlineCode","value":"time","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"PQRXCnzmJD"},{"type":"text","value":" (setting  aside ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"UGJobO8eSK"},{"type":"inlineCode","value":"tbnd","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"YMeNDCBeXM"},{"type":"text","value":" for the moment; it is a special case).\nLooking at the “Dimensions” line, you can see that each of these dimensions is quantified (i.e., the size of each dimension).","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"yzKEtX2Jzi"}],"key":"xFDytUOtFE"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"lat","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"lcKahfJfSD"}],"key":"I114k6cyFU"},{"type":"text","value":" = 621","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"B3A4UfQHoT"}],"key":"HqmrYCKtT1"}],"key":"K6He4VsHBg"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"lon","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"UIV9yZomeU"}],"key":"JbMo3mHi4Y"},{"type":"text","value":" = 1405","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"bSMYXxsnuZ"}],"key":"ik9xuapylR"}],"key":"bqEUdVQZHC"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"time","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"iT41RtH5uv"}],"key":"TFL4VhSavK"},{"type":"text","value":" = 1555","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"rffUEgRQuX"}],"key":"pBMl025S3j"}],"key":"nmrKv4A1M4"}],"key":"gOEfh9jy82"}],"key":"pOPPsWENPT"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Coordinates","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"pbkoyFlyKV"}],"key":"bf5okoVg9d"},{"type":"text","value":": These are the convenient handles by which dimensions can be referenced.\nIn this dataset, a coordinate can be used to pick out a particular cell of the array.\nSelecting cells where say ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"TOc5DjfxGE"},{"type":"inlineCode","value":"lat=49.9","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"HLF78oM9mc"},{"type":"text","value":" is possible because these coordinates map the meaningful values of latitude to the behind-the-scenes cell index needed to fetch the value.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"jcGXIDAEPH"}],"key":"UvPgJ6KhT8"}],"key":"i3pDswNgNC"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Data Variables","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"bIlMFDH4Pa"}],"key":"erD34GvRcd"},{"type":"text","value":": The primary variables are ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"EymmL5FQ9c"},{"type":"inlineCode","value":"ppt","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"J25qbdJIpx"},{"type":"text","value":", ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"awqQFeGX18"},{"type":"inlineCode","value":"tmn","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"sfAlQDPOW3"},{"type":"text","value":", and ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"eIaBa7j6Zh"},{"type":"inlineCode","value":"tmx","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"qmsBP1QJMB"},{"type":"text","value":", which each have three dimensions (","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"kOrDA2OeMd"},{"type":"inlineCode","value":"time","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"clr1cZ5hdt"},{"type":"text","value":", ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"LFjNCSJRD5"},{"type":"inlineCode","value":"lat","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"k4TPKPbWzd"},{"type":"text","value":", ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"CCCRhdrxni"},{"type":"inlineCode","value":"lon","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"wdOfBoGQun"},{"type":"text","value":") by which data values are located in space and time.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"uwzKZWZB5B"}],"key":"EJB3KJt0F1"}],"key":"sLfnVprf2h"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Indexes","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"vFiRe7YvDF"}],"key":"uvr5wO72Q9"},{"type":"text","value":": This is an internal data structure to help xarray quickly find items in the array.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"ca9aBypKXv"}],"key":"wPfM0PaPQ3"}],"key":"tJFIRHyqst"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Attributes","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"CaiAm95ikK"}],"key":"ztUvaxOVlA"},{"type":"text","value":": Arbitrary metadata that has been given to the dataset.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"MIUafn5dVK"}],"key":"pHd8rJGSsX"}],"key":"HZLV5OczTJ"}],"key":"ybA9kJgCbo"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Let’s look at one of the data variables to learn more about it.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"HwsKKD9xq1"}],"key":"NC68WEL0AX"}],"key":"fCIlFmGPk5"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Variable = ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NknZjscGtI"},{"type":"link","url":"https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineCode","value":"xarray.DataArray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q8U3RuiKRg"}],"urlSource":"https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray","key":"jNh6XqsZQi"}],"identifier":"variable-xarray-dataarray","label":"Variable = xarray.DataArray","html_id":"variable-xarray-dataarray","implicit":true,"key":"u6J1uAouU4"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Each data variable is its own N-dimensional array (in this case, 3-dimensional, indexed by ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DrybP8GHT5"},{"type":"inlineCode","value":"lat","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nN8XT0KUaX"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"H6NFbaYEKX"},{"type":"inlineCode","value":"lon","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OddmnSE7c5"},{"type":"text","value":", and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SrBhPJ5MrL"},{"type":"inlineCode","value":"time","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XsHVxqOMpp"},{"type":"text","value":").\nWe can look at the individual variables by examining its array separately from the dataset:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mghrgGn3Th"}],"key":"Da37uhBxpB"}],"key":"jcL293ROpz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds.tmn","key":"eU3y0lKoh8"},{"type":"outputs","id":"24zw1kQtkCuy5f8cYqrzG","children":[],"key":"OlMVBosHar"}],"key":"gUsRdKnzJG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Note from the top line that this variable is indexed as a tuple in ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pbpusDP9hb"},{"type":"inlineCode","value":"(time, lat, lon)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O1JRwwa89n"},{"type":"text","value":".\nSo, behind the scenes, there is an array whose first index (for time) is a value between 0 and 1555.\nBut how do we know the time value of index 0 (or any index, really)?\nThe “Coordinates” are the lookup table to say what “real” time value is associated with each index address.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"syZ2hRAub1"}],"key":"JUsSht4FQh"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"You’ll notice the data description in this case is merely “1356745275 values with dtype=float64” with no indication as to how it is chunked.\nAssuming our 3-D array is fully populated, this value makes sense:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"mdbY3xhvAi"}],"key":"bU4QzEzjdM"}],"key":"cCZihbSyGy"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# time  lat  lon\n1555 * 621 * 1405","key":"RSuB3xAAPI"},{"type":"outputs","id":"q6uRRHFgyRNK6MS6auub8","children":[],"key":"gM35P0B8bI"}],"key":"Ksj4t8oWcp"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In terms of chunking, this is where it gets interesting.\nIf you thoroughly examined the HTML output, you may have noticed that there is no reference to chunking anywhere.\nTherefore, we need to directly access the data in a way that returns the true chunk shape of the stored dataset.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MCVTpeFnH1"}],"key":"fukBhidPVA"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"To do this, we can simply check a variable’s “encoding”.\nThis returns metadata that was used by xarray when reading the data.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"jM6s4UbvaF"}],"key":"YsqhwbVyLF"}],"key":"PwBoset9Pr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds.tmn.encoding","key":"EsPc5cTola"},{"type":"outputs","id":"4mhcao2-bdt7VOtYhX2N-","children":[],"key":"sD8LAHyF21"}],"key":"yjs1HYKgPd"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"From here we can see two keys dealing with chunks: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LfpG9FYMsk"},{"type":"inlineCode","value":"'chunks'","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BvO5QfnjOt"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yuFdboz2cz"},{"type":"inlineCode","value":"'preferred_chunks'","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tXYXkHa3ui"},{"type":"text","value":" - in this case both contain the same information of how the data is chunked.\nThe difference between the two is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"utc5P9452I"},{"type":"inlineCode","value":"'chunks'","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sfqMS25X94"},{"type":"text","value":" is the chunk shape of the chunks stored on disk (what is commonly termed “","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iraNa7yTbZ"},{"type":"crossReference","url":"/dataset-processing/tutorials/chunking/back/glossary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"stored chunks","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lePIyaGPnQ"}],"key":"yvM5Sj6Kip"}],"urlSource":"../back/Glossary.md#term-Stored-chunks","dataUrl":"/dataset-processing.tutorials.chunking.back.glossary.json","identifier":"term-stored-chunks","label":"term-Stored-chunks","remote":true,"protocol":"file","key":"XE9mTnTSTi"},{"type":"text","value":"”), while ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"id3UKQYNFe"},{"type":"inlineCode","value":"'preferred_chunks'","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hkjbBXf3y6"},{"type":"text","value":" is the chunk shape that the engine chose to open the dataset with.\nGenerally, these are the same, but they may be different if the engine you use has not been set to equate them or if a different chunk shape is specified when opening the dataset.\nTherefore, our data has a stored chunk shape of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FLwEaSp71y"},{"type":"inlineCode","value":"{'time': 68, 'lat': 131, 'lon': 294}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LFPaoW4b26"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o1pQAo3GJK"}],"key":"KUrxiyD1kL"}],"key":"H0E6B4rQjz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Getting the Chunking When Reading Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vcJ7nXzG0s"}],"identifier":"getting-the-chunking-when-reading-data","label":"Getting the Chunking When Reading Data","html_id":"getting-the-chunking-when-reading-data","implicit":true,"key":"ZkjPLBa49H"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"While checking the “encoding” of the variable can tell you what the dataset’s stored chunk shape is, it is typically easier to do this in one step when you open the dataset.\nTo do this, all we need is to add a another keyword when we open the dataset with xarray: ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vKtcwa818u"},{"type":"inlineCode","value":"chunks={}","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"e8pDQPsWiO"},{"type":"text","value":".\nAs per the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xwwnLNNb4M"},{"type":"link","url":"https://docs.xarray.dev/en/stable/generated/xarray.open_dataset.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"inlineCode","value":"xarray.open_dataset","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"G4yPDNHppK"},{"type":"text","value":" documentation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EnqTNq5YFY"}],"urlSource":"https://docs.xarray.dev/en/stable/generated/xarray.open_dataset.html","key":"VwnuAuiEyT"},{"type":"text","value":":","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Uea5Am12aO"}],"key":"kPCeuie8Ye"},{"type":"blockquote","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"inlineCode","value":"chunks={}","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"AD7rxQWnyj"},{"type":"text","value":" loads the data with dask using the engine’s preferred chunk size, generally identical to the format’s chunk size.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ll8sqVnE92"}],"key":"gTqyJDCZyg"}],"key":"xKf7dJFt6z"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"In other words, using ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"EArWPbYDPS"},{"type":"inlineCode","value":"chunks={}","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"DvPjsvr45I"},{"type":"text","value":" will load the data with chunk shape equal to ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"AdhLkrkIHu"},{"type":"inlineCode","value":"'preferred_chunks'","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"UOPibdvZIp"},{"type":"text","value":".\nLet’s check this out and see how our data looks when we include this keyword when opening.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"VKIduWpboN"}],"key":"n27UOJ2Wyk"}],"key":"qymVeYPGHk"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds = xr.open_dataset(file, engine='zarr', chunks={})\nds","key":"EZ6JLWadVe"},{"type":"outputs","id":"tq0zVm6ivFdsjWbzWBrWp","children":[],"key":"mUF6faFkDx"}],"key":"nuJzWz3zGD"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now when we inspect the data variables metadata, we will see the data is now read in as a dask array.\nLet’s look at the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WmitT0Bces"},{"type":"inlineCode","value":"tmn","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kw0P15B7uH"},{"type":"text","value":" variable again to simplify this.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FYVEXNhXma"}],"key":"YGn0J6PCjW"}],"key":"ENXo7q3k56"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds.tmn","key":"FqLeiWnd9A"},{"type":"outputs","id":"6AIuuad1i14ONVdBuH6-e","children":[],"key":"bEgHsQM3fR"}],"key":"ijMeCHFR5C"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"As we can see the data is chunked into chunks of shape ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DXH1XzHDEy"},{"type":"inlineCode","value":"(68, 131, 294)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"awbe7dANf3"},{"type":"text","value":" with a ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VRfCaNpQac"},{"type":"crossReference","url":"/dataset-processing/tutorials/chunking/back/glossary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"chunk size","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qrs5I9dR0w"}],"key":"q8qOcEI7lD"}],"urlSource":"../back/Glossary.md#term-Chunk-size","dataUrl":"/dataset-processing.tutorials.chunking.back.glossary.json","identifier":"term-chunk-size","label":"term-Chunk-size","remote":true,"protocol":"file","key":"dS4uXpedYZ"},{"type":"text","value":" of ~20 MiB.\nThis is exactly what we saw when looking at the encoding.\nSo, this additional keyword worked as expected and gives us a standard way to open chunked datasets using the stored chunk shape as our chunk shape!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rwCW175peE"}],"key":"qcRN9PwZR7"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Note that the coordinate variables themselves (","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"fSXMh34Qed"},{"type":"inlineCode","value":"lat","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"dBi2k4lQwq"},{"type":"text","value":", ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vSCVN8y0vU"},{"type":"inlineCode","value":"lon","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"VCDm0WieZl"},{"type":"text","value":", and ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"zAPm2yiJgc"},{"type":"inlineCode","value":"time","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"SR8EkYVfQM"},{"type":"text","value":") are stored as single unchunked arrays of data.\nRecall that these are used to translate a coordinate value into the index of the corresponding array.\nTherefore, these coordinate arrays will always be needed in their entirity.\nSo, they are included in each chunk such that they read whenever a chunk is read, and they do not affect how the data representing the data variables is chunked.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"uXXKLVOUeT"}],"key":"P7VFt8D1kY"},{"type":"heading","depth":2,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Changing the Chunk Shape and Size","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"epQDxWcBks"}],"identifier":"changing-the-chunk-shape-and-size","label":"Changing the Chunk Shape and Size","html_id":"changing-the-chunk-shape-and-size","implicit":true,"key":"R0TtIqG1Mq"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Now we can identify the stored chunk shape and size, but these settings may not always be ideal for performing analysis.\nFor example, ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"mhNq2tGB6Y"},{"type":"link","url":"https://zarr.readthedocs.io/en/stable/tutorial.html#chunk-size-and-shape","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Zarr recommends a stored chunk size of at least 1 MB uncompressed","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"vUIF2QCGUP"}],"urlSource":"https://zarr.readthedocs.io/en/stable/tutorial.html#chunk-size-and-shape","key":"RCtSZ0TlJ5"},{"type":"text","value":" as they give better performance.\nHowever, ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ZTTgYbErDu"},{"type":"link","url":"https://docs.dask.org/en/stable/array-chunks.html#specifying-chunk-shapes","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"dask recommends chunk sizes between 10 MB and 1 GB for computations","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ZzIJYtZX2U"}],"urlSource":"https://docs.dask.org/en/stable/array-chunks.html#specifying-chunk-shapes","key":"BUnsGK14DZ"},{"type":"text","value":", depending on the availability of RAM and the duration of computations.\nTherefore, our stored chunk size may not be large enough for optimal computations.\nThankfully, stored chunks do not need to be the same size as those we use for our computations.\nIn other words, we can group multiple smaller stored chunks together when performing our computations.\nXarray makes this easy by allowing us to adjust the chunk shape and size, either as we load the data or after.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"WO74NhZ6Wp"}],"key":"IENw87VADJ"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Let’s show how this works by increasing our chunks of the minimum monthly temperature to a size of ~500 MiB.\nTo do so when reading in the data, all we need to do is specify the chunk shape with the ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"TLZi2XBvUm"},{"type":"inlineCode","value":"chunks","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"YZKANsrsw2"},{"type":"text","value":" argument.\nFor our example, let’s do chunks of shape: ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"euSCIbupSO"},{"type":"inlineCode","value":"{'time': 150, 'lat': 310, 'lon': 1405}","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"nJlEn0h5j7"},{"type":"text","value":".","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"LFpVyEtVbZ"}],"key":"MS5pBV9fFT"}],"key":"EcBwCmHMYq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Note we drop the other variables and select tmn when reading the data\nds_tmn = xr.open_dataset(file, engine='zarr',\n                         chunks={'time': 150, 'lat': 310, 'lon': 1405},\n                         drop_variables=['ppt', 'time_bnds', 'tmx', 'crs']).tmn\nds_tmn","key":"B9MxBLIdON"},{"type":"outputs","id":"yqjkWyING_QgD74lVta5J","children":[],"key":"xe0pyxeaFu"}],"key":"uNiHgvmwYn"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Nice!\nAs we can see, the chunk shape is now displayed in the DataArray description with the chunk size we requested.\nHowever, we did get a warning indicating that:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gfZF8LiJY4"}],"key":"Ddf3kvNDS4"},{"type":"code","lang":"","value":"UserWarning: The specified chunks separate the stored chunks along dimension X starting at index i. This could degrade performance. Instead, consider rechunking after loading.","position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"key":"HUDVEvXUAI"},{"type":"admonition","kind":"important","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Important","key":"WkfXySL3SL"}],"key":"Epnye2tqOr"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"This warning is telling us the chunk shape we have chosen is not a multiple (or grouping) of the stored chunks, and if we really want this chunk shape, we should rechunk the data.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"OD98P6VDus"}],"key":"tCBtXGnF5Y"}],"key":"qcBfYeGloQ"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Oops, as we are not attached to this chunk shape nor wanting to rechunk the data (see ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"tBtNpHZd0P"},{"type":"link","url":"/dataset-processing/tutorials/chunking/101/whychunk","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Why (re)Chunk Data? notebook","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"b2AGo6kcU8"}],"urlSource":"WhyChunk.ipynb","dataUrl":"/dataset-processing.tutorials.chunking.101.whychunk.json","internal":true,"protocol":"file","key":"GRtzlHKY29"},{"type":"text","value":" for reasons why you might), we need to select a chunk shape that is a ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"c1iKCuRAQ0"},{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"multiple","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"wUiRaX4Pmx"}],"key":"DNTsUT9YYx"},{"type":"text","value":" of the stored chunks.\nThis time, let’s try: ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"g44QRyOx18"},{"type":"inlineCode","value":"{'time': 68*3, 'lat': 131*3, 'lon': 294*3}","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"hNW7TVKryG"},{"type":"text","value":".\nThis should increase our original chunk size (~20 MiB) by a factor of 27 (","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"KDoL69pvVR"},{"type":"inlineMath","value":"3^3 = 27","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>3</mn><mn>3</mn></msup><mo>=</mo><mn>27</mn></mrow><annotation encoding=\"application/x-tex\">3^3 = 27</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">3</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">27</span></span></span></span>","key":"ZBuOiXSpIG"},{"type":"text","value":") - close to the ~500 MiB we are wanting.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"VvZJQhcDBi"}],"key":"HD3CkkYmaA"}],"key":"I1BFccEg5P"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds_tmn = xr.open_dataset(file, engine='zarr',\n                         chunks={'time': 68 * 3, 'lat': 131 * 3, 'lon': 294 * 3},\n                         drop_variables=['ppt', 'time_bnds', 'tmx', 'crs']).tmn\nds_tmn","key":"Tph1PrzTCT"},{"type":"outputs","id":"5z6NwjvpsjxunKMFC3aSm","children":[],"key":"KJtKQLTfV1"}],"key":"sNQVN752Sp"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Look at that, no warning and close to the chunk size we wanted!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FG7DmauStM"}],"key":"U4Rm1ex3hy"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"As a final note, we selected our chunk shape while reading in the data.\nHowever, we could change them after using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NfiEXjs3Hu"},{"type":"link","url":"https://docs.xarray.dev/en/stable/generated/xarray.Dataset.chunk.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"inlineCode","value":"xarray.Dataset.chunk()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"X1EVIddhRl"}],"urlSource":"https://docs.xarray.dev/en/stable/generated/xarray.Dataset.chunk.html","key":"VZP6cMBMm6"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RcOjOGoKLD"}],"key":"Rqvz78aBLf"}],"key":"DNnStSqKGx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds.tmn.chunk({'time': 68 * 4, 'lat': 131 * 4, 'lon': 294 * 4})","key":"tk5DE6CbxP"},{"type":"outputs","id":"3_tecGb10ZAse5jxT849N","children":[],"key":"tDIbqn6ss0"}],"key":"L0lOBtSVvR"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Not Recommended","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vwWvnxfTud"}],"key":"uPFxRycAG5"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Warning: We do not recommend using this method as you will not get the same warning notifying you that the chosen chunk shape does not match a multiple of the stored chunk shape. If you choose a non-multiple chunk shape you could slow down your whole workflow as the data will have to be rechunked to meet your requested chunk shape.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"u3UX6g6rHS"}],"key":"WTqgoIveyH"}],"key":"bKpcVJtuSj"}],"key":"UH6LbVsxFD"}],"key":"jZUOduRkH5"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Why (re)Chunk Data?","url":"/dataset-processing/tutorials/chunking/101/whychunk","group":"Zarr Creation"},"next":{"title":"Basics of Chunk Shape and Size","url":"/dataset-processing/tutorials/chunking/101/basicsshapesize","group":"Zarr Creation"}}},"domain":"http://localhost:3005"}