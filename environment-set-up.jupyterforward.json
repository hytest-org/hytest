{"version":3,"kind":"Article","sha256":"08a73b2dd5b0e44998fa1e1b83535059dbe1370ae11e246d8119cfacdf1b6b06","slug":"environment-set-up.jupyterforward","location":"/environment_set_up/JupyterForward.md","dependencies":[],"frontmatter":{"title":"HPC Server: Jupyter Forward Quick-Start","content_includes_title":false,"github":"https://github.com/hytest-org/hytest","copyright":"2023","numbering":{"title":{"offset":2}},"source_url":"https://github.com/hytest-org/hytest/blob/main/environment_set_up/JupyterForward.md","edit_url":"https://github.com/hytest-org/hytest/edit/main/environment_set_up/JupyterForward.md","exports":[{"format":"md","filename":"JupyterForward.md","url":"/hytest//build/JupyterForward-04208930302d46874f3f8c7fbe3c18a8.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"This option will configure your HPC account to access the correct Jupyter server software.  That server\nwill be invoked by a command installed on your PC.  This option minimizes the configuration changes\nneeded on the HPC host, but still permits relatively easy access to that hardware via a personal Jupyter\nServer.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"w6WCKG9xmG"}],"key":"F6IlHV0fyD"},{"type":"heading","depth":2,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"1) Configure your HPC account to access the HyTEST ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"gcbKmTuLds"},{"type":"link","url":"https://www.anaconda.org","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"conda","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"JHn4cAp9G9"}],"urlSource":"https://www.anaconda.org","key":"uCDZsvbOB8"},{"type":"text","value":" environment :","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"u1Ax1P4MqZ"}],"identifier":"id-1-configure-your-hpc-account-to-access-the-hytest-conda-environment","label":"1) Configure your HPC account to access the HyTEST conda environment :","html_id":"id-1-configure-your-hpc-account-to-access-the-hytest-conda-environment","implicit":true,"key":"tFQ5tMLKI8"},{"type":"code","lang":"","value":"* Open a terminal window and log in to your HPC host. If you do not know how to do this, you can consult the [HPC User Docs](https://hpcportal.cr.usgs.gov/hpc-user-docs/guides/connecting/ssh.html).\n* Edit your `.bashrc` file to include these two lines at the bottom:\n  ```bash\n  module use --append /caldera/projects/usgs/water/impd/hytest/modules\n  module load hytest\n  ```\n* NOTE: Edit your `.bashrc` with care. It controls what happens when you log in.  If it gets mangled,\n  your account may not work correctly .","position":{"start":{"line":10,"column":1},"end":{"line":17,"column":1}},"key":"sKjipbAFZg"},{"type":"heading","depth":2,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"2) Install ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"qTdX227abT"},{"type":"inlineCode","value":"jupyter-forward","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"cRDxfuk1Hb"},{"type":"text","value":" on your PC","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"bWGKboM0M9"}],"identifier":"id-2-install-jupyter-forward-on-your-pc","label":"2) Install jupyter-forward on your PC","html_id":"id-2-install-jupyter-forward-on-your-pc","implicit":true,"key":"B0YVUXpgXb"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"This is a one-time operation to get the right software on your desktop.\nThe ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"muIWk5EqP4"},{"type":"link","url":"https://pypi.org/project/jupyter-forward/","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"jupyter-forward","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"vW1pa1q8fo"}],"urlSource":"https://pypi.org/project/jupyter-forward/","key":"Nzo2XFTXSp"},{"type":"text","value":" software will\nwrap up a series of commands necessary to to execute a jupyter server on the\nHPC host we just configured. It is a convenience package intended to make\nHPC-based jupyter servers easy.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"lXAcP35My7"}],"key":"iaprmpvLsm"},{"type":"code","lang":"","value":"* Install Python on your PC. <br>\n  You will need to have python installed on your PC, along with either `pip` or\n  `conda` to help manage the python environments. We recommend anaconda.\n  You can request anaconda from IT, or you can download the installer from [anaconda.com](https://www.anaconda.com/)\n  to install it in user space (i.e. admin is not required).\n* Add `jupyter-forward` to your PC:<br>\n  Launch an `Anaconda Prompt` from your Start menu, then execute:\n  ```text\n  > conda install -c conda-forge jupyter-forward\n  ```","position":{"start":{"line":27,"column":1},"end":{"line":36,"column":1}},"key":"BUyxIylwge"},{"type":"paragraph","position":{"start":{"line":37,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"Anaconda provides the option for multiple virtual environments and configurations.  It does not\nmatter which one is active when you install ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"WBMBGUV4KY"},{"type":"inlineCode","value":"jupyter-forward","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"GuUsnVELCL"},{"type":"text","value":" ( the “base” or some other).  You\njust need to have that enviroment active when you attempt to launch the command later.","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"EuFjZYdEyJ"}],"key":"CO2unAjYaF"},{"type":"heading","depth":2,"position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"3) Launch Server","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"XL3FR5gpeU"}],"identifier":"id-3-launch-server","label":"3) Launch Server","html_id":"id-3-launch-server","implicit":true,"key":"WahkLymYFy"},{"type":"paragraph","position":{"start":{"line":43,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"With all of that set up, you are now ready to launch a session on the HPC using\n","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"JdTIBhzP8G"},{"type":"inlineCode","value":"jupyter-forward","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"yYXjLPqufs"},{"type":"text","value":" on your PC. Do this every time you would like to run notebooks\nhoused on the HPC host.","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"qbv3milB7J"}],"key":"k3x6GMQdBC"},{"type":"code","lang":"","value":"* Launch an `Anaconda Prompt` from your start menu on your local computer\n* Run the following command to connect compute node. If you are not in the `impd` group, you will need to replace `impd` with a group you are a part of. You may also need to update the number of hours you want to have access to the compute node (in this example, we are requesting 1 hour).:","position":{"start":{"line":47,"column":1},"end":{"line":48,"column":1}},"key":"LFjq1A6czR"},{"type":"code","lang":"text","value":"  jupyter-forward --launch-command \"srun -A impd -N 1 -t 01:00:00\"  denali","position":{"start":{"line":50,"column":1},"end":{"line":52,"column":1}},"key":"IJws7xcUr6"},{"type":"code","lang":"","value":"* If prompted, log in with your AD username and password.\n* The output of the script will also provide the URL where your PC's browser will find the jupter server. You can open one of these urls in your browser.","position":{"start":{"line":53,"column":1},"end":{"line":54,"column":1}},"key":"Rkq86JF5xs"},{"type":"heading","depth":2,"position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"text","value":"4) Shut Down Server","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"BXEqBeF04A"},{"type":"break","key":"AbUf6RxVO8"}],"identifier":"id-4-shut-down-server","label":"4) Shut Down Server","html_id":"id-4-shut-down-server","implicit":true,"key":"TnHKPkL8Gi"},{"type":"paragraph","position":{"start":{"line":58,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"After a daily session, you will need to shut down the jupyter server.\nIn the terminal session where you started ","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"qAnyKncBqN"},{"type":"inlineCode","value":"jupyter-forward","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"RCpRLRjv5L"},{"type":"text","value":", merely press Ctl-C\nto signal the server to shut down.","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"AB1ys0iL6p"}],"key":"FnOfpW9jH0"}],"key":"plt9twJFXr"}],"key":"jvvqBkuoSG"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"HPC Server: Open OnDemand Quick-Start","url":"/environment-set-up/openondemand","group":"Environment Set-Up"},"next":{"title":"HPC Server: Start Script Quick-Start","url":"/environment-set-up/startscript","group":"Environment Set-Up"}}},"domain":"http://localhost:3005"}