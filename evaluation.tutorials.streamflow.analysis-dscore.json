{"version":3,"kind":"Notebook","sha256":"6db47d6a89ade946126519f4adf9caaac18aecfb4c3ac05cec57bc3da7c3fc83","slug":"evaluation.tutorials.streamflow.analysis-dscore","location":"/evaluation/tutorials/streamflow/02_Analysis_DScore.ipynb","dependencies":[],"frontmatter":{"title":"Steamflow Eval :: DScore Analysis","content_includes_title":false,"github":"https://github.com/hytest-org/hytest","copyright":"2023","numbering":{"title":{"offset":2}},"source_url":"https://github.com/hytest-org/hytest/blob/main/evaluation/tutorials/streamflow/02_Analysis_DScore.ipynb","edit_url":"https://github.com/hytest-org/hytest/edit/main/evaluation/tutorials/streamflow/02_Analysis_DScore.ipynb","thumbnail":"/hytest//build/Eval_Analysis-eb8e65bd4b4cb18860a5d6d1ad2f987f.svg","exports":[{"format":"ipynb","filename":"02_Analysis_DScore.ipynb","url":"/hytest//build/02_Analysis_DScore-6a72b5e1f2a101b2803c37bf30eb4d06.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"image","url":"/hytest//build/Eval_Analysis-eb8e65bd4b4cb18860a5d6d1ad2f987f.svg","width":600,"key":"wn6qfDe1kZ","urlSource":"../../../doc/assets/Eval_Analysis.svg"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"vwLPdhMuuC"}],"key":"gtNrTcD6fq"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"This notebook adapted from originals by Timothy Hodson and Rich Signell. See that upstream work at:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"dOtE5BzecL"}],"key":"DmukcpIJut"}],"key":"nSLAcfogk1"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://github.com/thodson-usgs/dscore","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/thodson​-usgs​/dscore","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"lGnzkE8I1Q"}],"urlSource":"https://github.com/thodson-usgs/dscore","error":true,"key":"hY3cdFToc7"}],"key":"X63UTC43iZ"}],"key":"uoNwCYdls8"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://github.com/USGS-python/hytest-evaluation-workflows/","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/USGS​-python​/hytest​-evaluation​-workflows/","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ma1I6KeB7I"}],"urlSource":"https://github.com/USGS-python/hytest-evaluation-workflows/","error":true,"key":"ocUq5PC40a"}],"key":"icxALUvRbB"}],"key":"JKIwdZmHha"}],"key":"k0LXsdNcUv"}],"key":"VUXbreq99T"},{"type":"heading","depth":2,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Essential Benchmark Components","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"Yiy6mXtZDv"}],"identifier":"essential-benchmark-components","label":"Essential Benchmark Components","html_id":"essential-benchmark-components","implicit":true,"key":"tNahntna5m"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"This benchmark notebook will present a workflow which follows a canonical model for Essential Benchmark Components:","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"TYVl2z7iEv"}],"key":"wy70xVIXog"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A set of predictions and matching observations;","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"dCNOYJpD6K"}],"key":"cVpmACidhe"}],"key":"k50OkHsI3e"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The domain (e.g. space or time) over which to benchmark;","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"g4MSgVN7V7"}],"key":"E98CqbCVZ7"}],"key":"THxJYSPetx"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A set of statistical metrics with which to benchmark.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"t7dQEG2iaY"}],"key":"MByM91ucoQ"}],"key":"KNvjomGqUt"}],"key":"UJdp9a0Ebq"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Let’s get started.","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"tLI9xADe7F"}],"key":"QgF2Q90xM5"}],"key":"L7rG9t1Hl9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 0: Load libraries and configure Python computing environment","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"v1Q1nMOKgP"}],"identifier":"step-0-load-libraries-and-configure-python-computing-environment","label":"Step 0: Load libraries and configure Python computing environment","html_id":"step-0-load-libraries-and-configure-python-computing-environment","implicit":true,"key":"mqyfYbd1Kc"}],"key":"CyoY3UcQhW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import pandas as pd\nimport logging\nimport os\n# Needed when boto3 >= 1.36.0 or the rechunking process will fail\n# This needs to be set before the boto3 library gets loaded\n# See: https://github.com/aws/aws-cli/issues/9214#issuecomment-2606619168\nos.environ['AWS_REQUEST_CHECKSUM_CALCULATION'] = 'when_required'\nos.environ['AWS_RESPONSE_CHECKSUM_VALIDATION'] = 'when_required'","key":"Y7yyz9m9MA"},{"type":"outputs","id":"5fTs0jbXd4mzZ7HHHzR-9","children":[],"key":"ZLnoCbYBba"}],"key":"GZ2nHmp50k"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 1: Load Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EPnvhqtjGU"}],"identifier":"step-1-load-data","label":"Step 1: Load Data","html_id":"step-1-load-data","implicit":true,"key":"ea9gajP89Y"},{"type":"image","url":"/hytest//build/Eval_Analysis_Data-42d85b915a6dd4eed989899a26499bbc.svg","width":360,"key":"Uab3otrWTK","urlSource":"../../../doc/assets/Eval_Analysis_Data.svg"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Essential Benchmark Components:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"PEgYSQdyzQ"}],"key":"xAHlVbVick"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A set of predictions and matching observations,  ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"xus7o3f2HV"},{"type":"span","style":{"color":"red","fontSize":"large"},"children":[{"type":"text","value":"<<--You are here","key":"TRgylt0Uci"}],"key":"iCKic3Fonq"}],"key":"OUC9e4jRkx"}],"key":"cbmIvoa6EX"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The domain over which to benchmark","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"woSSLcEaFX"}],"key":"hYFPWSNKC1"}],"key":"cU2lDXRGN7"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A set of statistical metrics with which to benchmark.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"kB0FFkf6mt"}],"key":"rfIYCWOiy2"}],"key":"LHlpXz5HQs"}],"key":"mQM6IqEVye"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Finding and loading data is made easier for this particular workflow (the ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"PRfcn3xey2"},{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"streamflow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"RZzDdIenQ8"}],"key":"m3AX2FDQaR"},{"type":"text","value":" variable), in that most of it has been\npre-processed and stored in a cloud-friendly format.  That process is described in the ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"rC09tOTmRy"},{"type":"link","url":"/evaluation/tutorials/streamflow/data-prep","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"data preparation","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"SH9S10R0LB"}],"urlSource":"01_Data_Prep.ipynb","dataUrl":"/evaluation.tutorials.streamflow.data-prep.json","internal":true,"protocol":"file","key":"ETiFVxWzU7"},{"type":"text","value":"\nnotebook. We will proceed here using the already-prepared data for ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"diDM70yyz4"},{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"streamflow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"MgkSizZjxG"}],"key":"Lm9ypZLBBG"},{"type":"text","value":", which is included in the HyTEST ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"wC3l6zOs65"},{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"intake catalog","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"eKFQQ7SjtN"}],"key":"VqhyC6sNF0"},{"type":"text","value":".","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"cCeeF3brEe"}],"key":"T3Z4Sy8UAx"},{"type":"aside","children":[{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Learn more about ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"UQgFpRu99x"},{"type":"inlineCode","value":"intake","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"vqTJgwO6ln"},{"type":"text","value":" ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"nvfhzQKLeN"},{"type":"link","url":"/dataset-catalog/readme","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"q46kq0ZIYX"}],"urlSource":"../../../dataset_catalog/README.md","dataUrl":"/dataset-catalog.readme.json","internal":true,"protocol":"file","key":"FhYyt32KFg"}],"key":"aJ8T8JARFP"}],"key":"TLJiLKZJsJ"}],"key":"v4KR6aEBDA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import intake\ncat = intake.open_catalog(r'https://raw.githubusercontent.com/hytest-org/hytest/main/dataset_catalog/hytest_intake_catalog.yml')\nprint(\"Available datasets: \\n\", \"\\n\".join(cat.keys()))","key":"x969UvUYif"},{"type":"outputs","id":"lnwFpb9BY2XSTV3-OuCFa","children":[],"key":"b0scwNDSdC"}],"key":"Jg5hGzvGYb"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The above list represents the processed datasets available for benchmarking.  If a dataset\nyou want is not in that list,\nyou can load data directly from S3 or onprem.\nIf you load data from a source other than this list, you can jump to Step 2: Restrict to a Domain","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TuKuQup5r1"}],"key":"GaSFODXimD"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Note that the interesting datasets in the cataloged dataset above are duplicated: Some are ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"u8ockCJXme"},{"type":"inlineCode","value":"-onprem","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"MkBm5e98Py"},{"type":"text","value":" , some are ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"jcGRkt2Uje"},{"type":"inlineCode","value":"-cloud","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"brEdOfAbii"},{"type":"text","value":", and some are some are ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"x0grcdhSN6"},{"type":"inlineCode","value":"-osn","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"zCS6Q5ReXo"},{"type":"text","value":". Same data, but the storage location and access protocol will be different. You\nwill definitely want to use the correct copy of the data for your computing environment.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"mcHizq4qc9"}],"key":"mvZjkFQsFD"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"onprem","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"IFUuBrzgp5"},{"type":"text","value":" : Direct access via the ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Sgo2zC3dBx"},{"type":"inlineCode","value":"caldera","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Dwi7g2MXIv"},{"type":"text","value":" filesystem from ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ZMHQX2byvb"},{"type":"emphasis","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"denali","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"LAhgmA28Qw"}],"key":"cdVbg9MZd3"},{"type":"text","value":" or ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"l7r27MrV71"},{"type":"emphasis","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"tallgrass","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"rrO8NEqoDC"}],"key":"ubODJbPLNr"}],"key":"lYIJVyJDnc"}],"key":"q8F8qSLNbu"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"cloud","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"QWUtXvEY52"},{"type":"text","value":" : Network access via S3 bucket, suitable for consumption on cloud-hosted jupyter servers. You could also access using any network-attached computer, but the amount of data will likely saturate your connection.  Use in the cloud (e.g. ESIP QHub)","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"gEtKMLA9vU"}],"key":"tiCHB5YMQl"}],"key":"BkmDe1naL2"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"osn","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"bfeAQop7nD"},{"type":"text","value":" : Network access via OSN pod, which uses the S3 API, suitable for consumption on any jupyter server.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"jmgdqKsEop"}],"key":"nSSu32qbkl"}],"key":"RRaMc6ikDG"}],"key":"H1ZOQqVB0Z"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"So... are you on-prem?","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"nKGY0Keavx"}],"key":"n0d41xAglG"}],"key":"spf9sr9pQs"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import platform\nonprem = (platform.node() in ['denali', 'tallgrass'])\nif onprem:\n    print(\"Yes : -onprem\")\n    obs_data_src='nwis-streamflow-usgs-gages-onprem'\n    mod_data_src='nwm21-streamflow-usgs-gages-onprem'\nelse:\n    print(\"Not onprem; use '-osn' data source\")\n    obs_data_src='nwis-streamflow-usgs-gages-osn'\n    mod_data_src='nwm21-streamflow-usgs-gages-osn'\nprint(\"Observed : \", obs_data_src)\nprint(\"Modeled  : \", mod_data_src)","key":"XCQmahdN7Y"},{"type":"outputs","id":"In2NZ8CC5eYk4yUuCYPy9","children":[],"key":"ahVxZdlXiO"}],"key":"ZNNltbZ5yc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"variable_of_interest = 'streamflow'\ntry:\n    obs = cat[obs_data_src].to_dask()\n    mod = cat[mod_data_src].to_dask()\nexcept KeyError:\n    print(\"Something wrong with dataset names.\")\n    raise\n\ntry:\n    obs_data = obs[variable_of_interest]\n    mod_data = mod[variable_of_interest].astype('float32')\nexcept KeyError:\n    print(f\"{variable_of_interest} was not found in these data.\")\n\nobs_data.name = 'observed'\nmod_data.name = 'predicted'    ","key":"FbDEWljGCN"},{"type":"outputs","id":"X0uhKr38tTjfoFI58CAXw","children":[],"key":"sz7AKE519j"}],"key":"AgfC6NTi5L"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 2: Restrict to a Domain","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nXdRydZsYP"}],"identifier":"step-2-restrict-to-a-domain","label":"Step 2: Restrict to a Domain","html_id":"step-2-restrict-to-a-domain","implicit":true,"key":"tE0op1V67w"},{"type":"image","url":"/hytest//build/Eval_Analysis_Domain-d4724d8582a29d135d32b3f51b014b29.svg","width":360,"key":"FXF2D8SFqt","urlSource":"../../../doc/assets/Eval_Analysis_Domain.svg"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Essential Benchmark Components:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Ds0aUljuem"}],"key":"i0zFPGSWur"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A set of predictions and matching observations,","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BzdqxVnJsb"}],"key":"QblILiV5tX"}],"key":"xY48vz3zI3"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The domain over which to benchmark ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"oIUum6HQOk"},{"type":"span","style":{"color":"red","fontSize":"large"},"children":[{"type":"text","value":"<<--You are here","key":"b4kSq4jqy3"}],"key":"DeKZncTly5"}],"key":"cLXA5lhSce"}],"key":"HStlRktOtz"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A set of statistical metrics with which to benchmark.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"XvkiEu69rk"}],"key":"poSQQ0LFMB"}],"key":"QR8XrUfTxQ"}],"key":"NNWDPj0nEb"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Each benchmark domain is defined over specific bounds (typically space and/or time).\nBenchmark domain definitions can be defined within the notebook, or sourced from\nelsewhere. For this example, we use the ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"S4MLAvKEbk"},{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Cobalt","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"V3EVMK8ppe"}],"key":"Hagmnjv0TB"},{"type":"text","value":" gages, avaliable for download on ScienceBase\n(","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"L7285N2Zjp"},{"type":"cite","url":"https://doi.org/10.5066/P972P42Z","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Foks et al., 2022","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"DlUFV8ksk0"}],"kind":"narrative","label":"https://doi.org/10.5066/p972p42z","identifier":"https://doi.org/10.5066/P972P42Z","enumerator":"1","key":"TNMb1mbfqQ"},{"type":"text","value":").","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"qaumXVhVBB"}],"key":"jWsIcaFFpc"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"This is essentially a list of\nstream guages in which we are interested, along with some  metadata about that gage (watershed,\nreach code, etc).  We will use this as a spatial selector to restrict the original data to only\nthose gages found within this benchmarking domain.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"jEzVXPl73j"}],"key":"VEcd2lNfi2"}],"key":"uuvlWBZN3z"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cobalt = pd.read_csv(\n    'https://www.sciencebase.gov/catalog/file/get/6181ac65d34e9f2789e44897?f=__disk__22%2F1a%2Fd2%2F221ad2fe9d95de17731ad35d0fc6b417a4b53ee1',\n    dtype={'site_no':str, 'huc_cd':str, 'reachcode':str, 'comid':str, 'gagesII_class':str, 'aggecoregion': str}, \n    index_col='site_no'\n    )\n# Re-format the gage_id/site_no string value.  ex:   \"1000000\"  ==> \"USGS-1000000\"\ncobalt.rename(index=lambda x: f'USGS-{x}', inplace=True)\nprint(f\"{len(cobalt.index)} gages in this benchmark\")\ncobalt.head(2)","key":"UloLaKa7tC"},{"type":"outputs","id":"EtesYjuiSKuzqvlKO6IJz","children":[],"key":"X0rfSlbgKs"}],"key":"hIPSV7zF4F"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"So now we have a domain dataset representing the stream gages (unique ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Gw5yOfmtiw"},{"type":"inlineCode","value":"site_no","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dxuVHTrkpK"},{"type":"text","value":" values) identifying the locations making up the spatial domain of this benchmark. While we have good meta-data for these gages (lat/lon location, HUC8 code, etc), we really will only use the list of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"f83iMPlwRA"},{"type":"inlineCode","value":"site_no","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ePc8VnxW6a"},{"type":"text","value":" values to select locations out of the raw data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"d5KInm8y6X"}],"key":"sbDDFcvsJN"}],"key":"tK3cnomqw4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 3: Define Metrics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gskQsAPK68"}],"identifier":"step-3-define-metrics","label":"Step 3: Define Metrics","html_id":"step-3-define-metrics","implicit":true,"key":"qSVkWXhtyP"},{"type":"image","url":"/hytest//build/Eval_Analysis_Metric-e5933fbff00ad2926174e5c8bfcfb517.svg","width":360,"key":"gbxngwAtqb","urlSource":"../../../doc/assets/Eval_Analysis_Metrics.svg"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Essential Benchmark Components:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"C6D1ioxTcR"}],"key":"Lyw1kUmGzG"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A set of predictions and matching observations,","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"TAxYpacCDH"}],"key":"eGF6jp38LH"}],"key":"C3HZGVhlUg"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The domain over which to benchmark","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"sV0q27hvFw"}],"key":"o58RfGTM3b"}],"key":"IaypcIBSYX"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A set of statistical metrics with which to benchmark. ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"NRF1wOJGRY"},{"type":"span","style":{"color":"red","fontSize":"large"},"children":[{"type":"text","value":"<<--You are here","key":"vkxAXqWglH"}],"key":"eoy0nVvcBs"}],"key":"SUDJXBTlcJ"}],"key":"vZp40iLpnm"}],"key":"LEdzyR5H3t"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"The code to calculate the various metrics has been standardized ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"yjakbxw0BK"},{"type":"link","url":"/evaluation/metrics-stdsuite-v1","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"JyQlDlkH5M"}],"urlSource":"../../Metrics_StdSuite_v1","dataUrl":"/evaluation.metrics-stdsuite-v1.json","internal":true,"protocol":"file","key":"AWX13vZQiy"},{"type":"text","value":".\nYou can use these or write your own.  To import and use these standard definitions, run this cell:","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"VVSg9JnPLO"}],"key":"Hw4xlJAb5q"}],"key":"cRF6FJgZq5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%run ../../Metrics_DScore_Suite_v1.ipynb","key":"eaSkE9zE4n"},{"type":"outputs","id":"0YSWY241PCiRXb4iIuH3v","children":[],"key":"IrCEzl7peQ"}],"key":"EMEVYmRHOP"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Whether you use these functions or your own, we need to put all metric computation into a special all-encompasing\nbenchmarking function--a single call which can be assigned to each gage in our domain list. This sort of arrangement\nis well-suited to parallelism with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tmRGnfzWcT"},{"type":"inlineCode","value":"dask","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mvwjdsvJts"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LlzQy5HAp4"}],"key":"mK7e3co6Gt"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"If this is done well, the process will benefit enormously from task parallelism -- each gage can be given its own\nCPU to run on.  After all are done, the various results will be collected and assembled into a composite dataset.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"m51XgRPsk2"}],"key":"LjI1xqMkof"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"To achieve this, we need a single ‘atomic’ function that can execute independently. It will take the gage identifier\nas input and return a list of metrics.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"rMGwHa8Qsv"}],"key":"ECnAOAosTM"}],"key":"RBs6dREWuo"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"## Wrapper function -- this func will be called once per gage_id, each call on its own dask worker\ndef compute_benchmark(gage_id):\n    try:\n        ## obs_data and mod_data should be globals...\n        obs = obs_data.sel(gage_id=gage_id).load(scheduler='single-threaded').to_series()\n        mod = mod_data.sel(gage_id=gage_id).load(scheduler='single-threaded').to_series().resample('1D', offset='5h').mean() \n        \n        # make sure the indices match\n        obs.index = obs.index.to_period('D')\n        mod.index = mod.index.to_period('D')\n\n        # merge obs and predictions; drop NaNs.\n        gage_df = pd.merge(obs, mod, left_index=True, right_index=True).dropna(how='any')\n        \n        obs_log = np.log(gage_df['observed'].clip(lower=0.01)) # clip to remove zeros and negative values\n        sim_log = np.log(gage_df['predicted'].clip(lower=0.01))\n        \n        scores = pd.concat([\n                pd.Series([ mse(obs_log, sim_log) ], index=[\"mse\"], dtype='float64'),\n                bias_distribution_sequence(obs_log, sim_log), \n                seasonal_mse(obs_log, sim_log),\n                quantile_mse(obs_log, sim_log)\n                ]\n            )\n        scores.name=gage_id\n        return scores\n    except Exception as e:#<-- this is an extremely broad way to catch exceptions.  We only do it this way to ensure \n            #    that a failure on one benchmark (for a single stream gage) will not halt the entire run. \n        logging.info(\"Benchmark failed for %s\", gage_id)\n        return None","key":"UzGTKy8ohW"},{"type":"outputs","id":"K29rRHDlEi-Gwc_kDvgXW","children":[],"key":"ZDtKFPLbYb"}],"key":"u3sN8BOwIj"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s test to be sure this ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ThdcBq3oRa"},{"type":"inlineCode","value":"compute_benchmark()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bcNuwqq5du"},{"type":"text","value":" function will return data for a single gage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ogY8PUrqMv"}],"key":"IuEWpsuDGu"}],"key":"n2e7xzbEgO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"compute_benchmark('USGS-01030350')","key":"gkWaYBdFLO"},{"type":"outputs","id":"z0MdxMaHM_1UN2Bh_iugg","children":[],"key":"TjGItMvy8B"}],"key":"ShIrD8CfJY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Execute the Analysis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hDZZdZKS8X"}],"identifier":"execute-the-analysis","label":"Execute the Analysis","html_id":"execute-the-analysis","implicit":true,"key":"C5FE00LG75"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We will be doing a lot of work in paralallel, using workers within a ‘cluster’.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"hmVOavjpW3"},{"type":"break","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"htmS0CDbkF"},{"type":"text","value":"The details of cluster configuration are handled for us by ‘helper’ notebooks, below.\nYou can override their function by doing your own cluster configuration if you like.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ygg1av1Z57"}],"key":"VDZX6jjPNq"}],"key":"ThbLIEZH9k"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# uncomment the lines below to read in your AWS credentials if you want to access data from a requester-pays bucket (-cloud)\n# os.environ['AWS_PROFILE'] = 'default'\n# %run ../../../environment_set_up/Help_AWS_Credentials.ipynb","key":"hJfx0Koc65"},{"type":"outputs","id":"WsGf_czcfgG7-xNb4l53a","children":[],"key":"Kp85psm9SC"}],"key":"J2Pk4oEAQ9"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%run ../../../environment_set_up/Start_Dask_Cluster_Nebari.ipynb\n### Executes external 'helper to spin up a cluster of workers. ","key":"v1H80d7n1x"},{"type":"outputs","id":"sGD674HynosvdiRmNE5zV","children":[],"key":"cQVxyVSZCQ"}],"key":"bLflBqLRcY"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We verified above that the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pOlUO3mOyV"},{"type":"inlineCode","value":"compute_benchmark","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"B5h4IQw2HM"},{"type":"text","value":" works on the “hosted” server (where this\nnotebook is being executed. As a sanity check before we give the cluster of workers a lot\nto do, let’s verify that we can have a remote worker process a gage by submitting work\nto one in isolation:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Pji6iPv59A"}],"key":"bTdITjcn0Z"}],"key":"MZqQHLe7bW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"client.submit(compute_benchmark, 'USGS-01030350').result()","key":"fL7uGRoRpl"},{"type":"outputs","id":"3kx4MtOwoOrSCqDd8T-Qs","children":[],"key":"wPyAEakAGW"}],"key":"czWFXQTBle"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now that we’ve got a benchmark function, and can prove that it works in remote workers\nwithin the cluster, we can dispatch a fleet of workers to process our data in parallel.\nWe will mak use of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bXiMGUCphj"},{"type":"inlineCode","value":"dask","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GFo5qo1ptQ"},{"type":"text","value":" to do thisusing a dask ‘","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c9Y0HuzENo"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"bag","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w2cYGFwmRN"}],"key":"LvTVGEBcJd"},{"type":"text","value":"’.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bJC4t5ysJt"}],"key":"PpeUty801j"},{"type":"aside","children":[{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Read more about task parallelism with Dask and how we are using dask bags ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"O6JV81cdfj"},{"type":"link","url":"/essential-reading/parallel-dask","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rbijRCyBIK"}],"urlSource":"../../../essential_reading/Parallel_Dask.ipynb","dataUrl":"/essential-reading.parallel-dask.json","internal":true,"protocol":"file","key":"JdskJt6nEV"}],"key":"AkkpkOWmLN"}],"key":"fvUoJ5udES"}],"key":"Vyfk4AheQp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Set up a dask bag with the contents beging a list of the cobalt gages\nimport dask.bag as db\nbag = db.from_sequence( cobalt.index.tolist() ).map(compute_benchmark)\nresults = bag.compute() ","key":"GMHLt2hPOB"},{"type":"outputs","id":"BAY7Q7SLfCvcVkohykiyF","children":[],"key":"p1KkUbWkSm"}],"key":"KN9ckGvAIC"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"With that big task done, we don’t need ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fNazazwalr"},{"type":"inlineCode","value":"dask","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uNnyguTx2Z"},{"type":"text","value":" parallelism any more. Let’s shut down the cluster:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"j5mtGGzRX3"}],"key":"daQczIR2p6"}],"key":"yp85tcTaYv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"client.close(); del client\ncluster.close(); del cluster","key":"v9e0ZCzt56"},{"type":"outputs","id":"BNZD8t7NJYmauvrAsxhrq","children":[],"key":"kPbpM1ftkL"}],"key":"wDtnlbsvYc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Assemble the results","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"j2M9uPIRRJ"}],"identifier":"assemble-the-results","label":"Assemble the results","html_id":"assemble-the-results","implicit":true,"key":"MZ2Q01HKeN"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"eTxOvsVz7d"},{"type":"inlineCode","value":"bag","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"meP9ujVzJP"},{"type":"text","value":" now contains a collection of return values (one per call to ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Fx7IgGBr5l"},{"type":"inlineCode","value":"compute_benchmark()","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"s4yLe6tCSq"},{"type":"text","value":").  We can massage that into a table/dataframe for easier processing:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"tujgYmkEQS"}],"key":"Hq4Uzg84xk"}],"key":"xZyM6zmhgi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"results = [i for i in results if i is not None] # Drop entries where compute_benchmark failed\nresults_df = pd.concat(results, axis=1).T\nresults_df.index.name = 'site_no'\nresults_df","key":"lKXC9r2MXY"},{"type":"outputs","id":"LrQnl1G_sPujOiscWAwUx","children":[],"key":"s1jUEbQJVL"}],"key":"SJbnH4l3s3"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This dataframe/table can be saved to disk as a CSV. It will be used for visualizations ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ICWhIOsxrj"},{"type":"link","url":"/evaluation/tutorials/streamflow/vizualization","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"m8mdwekEmv"}],"urlSource":"./03_Vizualization.ipynb","dataUrl":"/evaluation.tutorials.streamflow.vizualization.json","internal":true,"protocol":"file","key":"FTuorkpgY2"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kVWeJUTNAX"}],"key":"Av8A2mrq88"}],"key":"MwbEebs6sH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"results_df.to_csv('DScore_streamflow_example.csv') ##<--- change this to a personalized filename","key":"UWOFSZ0T3B"},{"type":"outputs","id":"f5_MwYFT98TYXrRl7ONas","children":[],"key":"kDPNMQ2njm"}],"key":"onYmlBvznJ"}],"key":"rOBHQIxLKz"},"references":{"cite":{"order":["https://doi.org/10.5066/p972p42z"],"data":{"https://doi.org/10.5066/p972p42z":{"label":"https://doi.org/10.5066/p972p42z","enumerator":"1","doi":"10.5066/P972P42Z","html":"Foks, S. S., Towler, E., Hodson, T. O., Bock, A. R., Dickinson, J. E., Dugger, A. L., Dunne, K. A., Essaid, H. I., Miles, K. J., Over, T. M., Penn, C. A., Russell, A. M., Saxe, S. W., & Simeone, C. E. (2022). <i>Streamflow benchmark locations for hydrologic model evaluation within the conterminous United States (cobalt gages)</i>. U.S. Geological Survey. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.5066/P972P42Z\">10.5066/P972P42Z</a>","url":"https://doi.org/10.5066/P972P42Z"}}}},"footer":{"navigation":{"prev":{"title":"Streamflow Eval :: StdSuite Analysis","url":"/evaluation/tutorials/streamflow/analysis-stdsuite","group":"Model Evaluation"},"next":{"title":"Streamflow Eval :: Visualization","url":"/evaluation/tutorials/streamflow/vizualization","group":"Model Evaluation"}}},"domain":"http://localhost:3005"}